<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Information</title>
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <link rel="stylesheet" href="/css/lib/bookDetail.css">
    <link rel="stylesheet" href="/css/common/header.css">
    <link rel="stylesheet" href="/css/common/sidebar.css">
</head>

<body>

    <div th:replace="~{common/header}"></div>
    <th:block th:replace="~{lib/libCommon/libSemiHeader}"></th:block>
    <div th:replace="~{common/sidebar}"></div>


    <div class="book-info" th:object="${book}">
        <div class="book-main">
            <img class="book-img" th:src="'/images/lesson/' + *{bookImg}" alt="프로그램 이미지">도서 이미지</img>
            <div class="book-details">
                <h2 th:text="*{bookTitle}">레드셔츠</h2>
                <div class="book-meta">
                    <p><strong>저자:</strong> <span th:text="*{authorFirstName}">존</span> <span
                            th:text="*{authorLastName}">스칼지</span></p>
                    <p><strong>출판사:</strong> <span th:text="*{bookPublisher}">폴라북스</span></p>
                    <p><strong>발행 연도:</strong> <span th:text="*{bookYear}">2014</span></p>
                    <p><strong>ISBN:</strong> <span th:text="*{storageDetail}">978-89-01-23456-7</span></p>
                    <p><strong>상태:</strong> <span th:text="*{lrFlag}">대출 가능</span></p>
                </div>
                <button id="reserveBtn" class="btn-primary">예약하기</button>
            </div>
        </div>

        <div class="book-description">
            <h3>책소개</h3>
            <p th:text="*{bookTmi}">2013년 휴고상 수상작. 필립 K. 딕 상...</p>
        </div>
    </div>

    <div class="swiper-section">
        <!-- 서가 브라우징 -->
        <div class="swiper-container">
            <h3>서가 브라우징</h3>
            <div class="swiper-wrapper">
                <div th:each="chunk : ${#lists.partition(browsingList,4)}" class="swiper-slide">
                    <div th:each="browsingBook : ${chunk}" th:object="${browsingBook}" class="browsing-book">
                        <img class="book-thumbnail" th:src="'/images/lesson/' + *{bookImg}" alt="프로그램 이미지">도서 이미지</img>
                        <li><a th:href="@{/book/bookDetail(bookNo=*{bookNo})}" th:text="*{bookTitle}"></a></li>
                        <span th:text="*{authorFirstName}"></span> <span th:text="*{authorLastName}"></span>
                        <span th:text="*{bookPublisher}"></span>
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>

        <!-- 함께 대출한 자료 -->
        <div class="swiper-container">
            <h3>함께 대출한 자료</h3>
            <div class="swiper-wrapper">
                <div th:each="chunk : ${#lists.partition(themeList,4)}" class="swiper-slide">
                    <div th:each="themeBook : ${chunk}" th:object="${themeBook}" class="theme-book">
                        <img class="book-thumbnail" th:src="'/images/lesson/' + *{bookImg}" alt="프로그램 이미지">도서 이미지</img>
                        <li><a th:href="@{/book/bookDetail(bookNo=*{bookNo})}" th:text="*{bookTitle}"></a></li>
                        <span th:text="*{authorFirstName}"></span> <span th:text="*{authorLastName}"></span>
                        <span th:text="*{bookPublisher}"></span>
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>

        <!-- 같은 주제의 자료 -->
        <div class="swiper-container">
            <h3>같은 주제의 자료</h3>
            <div class="swiper-wrapper">
                <div th:each="chunk : ${#lists.partition(browsingList,4)}" class="swiper-slide">
                    <div th:each="browsingBook : ${chunk}" th:object="${browsingBook}" class="browsing-book">
                        <img class="book-thumbnail" th:src="'/images/lesson/' + *{bookImg}" alt="프로그램 이미지">도서 이미지</img>
                        <li><a th:href="@{/book/bookDetail(bookNo=*{bookNo})}" th:text="*{bookTitle}"></a></li>
                        <span th:text="*{authorFirstName}"></span> <span th:text="*{authorLastName}"></span>
                        <span th:text="*{bookPublisher}"></span>
                    </div>
                </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>

    <div class="container">
        <h1>연령대별 대출권 수</h1>
        <div class="buttons">
            <button class="divisionBtn btn-secondary" value="age">나이별</button>
            <button class="divisionBtn btn-secondary" value="year">년도별</button>
        </div>
        <div class="chart">
            <div class="bar" id="bar-0" style="left: 0%; height: 0%;">
                <div class="bar-label">10대 미만</div>
            </div>
            <div class="bar" id="bar-1" style="left: 10%; height: 0%;">
                <div class="bar-label">10대</div>
            </div>
            <div class="bar" id="bar-2" style="left: 20%; height: 0%;">
                <div class="bar-label">20대</div>
            </div>
            <div class="bar" id="bar-3" style="left: 30%; height: 0%;">
                <div class="bar-label">30대</div>
            </div>
            <div class="bar" id="bar-4" style="left: 40%; height: 0%;">
                <div class="bar-label">40대</div>
            </div>
            <div class="bar" id="bar-5" style="left: 50%; height: 0%;">
                <div class="bar-label">50대</div>
            </div>
            <div class="bar" id="bar-6" style="left: 60%; height: 0%;">
                <div class="bar-label">60대</div>
            </div>
            <div class="bar" id="bar-7" style="left: 70%; height: 0%;">
                <div class="bar-label">70대</div>
            </div>
            <div class="bar" id="bar-8" style="left: 80%; height: 0%;">
                <div class="bar-label">80대</div>
            </div>
            <div class="bar" id="bar-9" style="left: 90%; height: 0%;">
                <div class="bar-label">90대</div>
            </div>
        </div>
        <table>
            <thead>
                <tr>
                    <th>연령대</th>
                    <th>대출수</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="loan-label">10대 미만</td>
                    <td id="loan-0">0</td>
                </tr>
                <tr>
                    <td class="loan-label">10대</td>
                    <td id="loan-1">1</td>
                </tr>
                <tr>
                    <td class="loan-label">20대</td>
                    <td id="loan-2">3</td>
                </tr>
                <tr>
                    <td class="loan-label">30대</td>
                    <td id="loan-3">0</td>
                </tr>
                <tr>
                    <td class="loan-label">40대</td>
                    <td id="loan-4">3</td>
                </tr>
                <tr>
                    <td class="loan-label">50대</td>
                    <td id="loan-5">0</td>
                </tr>
                <tr>
                    <td class="loan-label">60대</td>
                    <td id="loan-6">0</td>
                </tr>
                <tr>
                    <td class="loan-label">70대</td>
                    <td id="loan-7">0</td>
                </tr>
                <tr>
                    <td class="loan-label">80대</td>
                    <td id="loan-8">0</td>
                </tr>
                <tr>
                    <td class="loan-label">90대</td>
                    <td id="loan-9">0</td>
                </tr>
            </tbody>
        </table>
    </div>



    <script th:inline="javascript">
        // 대출 데이터를 설정합니다.
        const ageLoanData = /*[[${ageStatistics}]]*/ "나이";
        const yearLoanDate = /*[[${yearStatistics}]]*/ "년도";

        const yearStatisticsMax = /*[[${yearStatisticsMax}]]*/ "년도최대값";
        const ageStatisticsMax = /*[[${ageStatisticsMax}]]*/ "년도최대값";

        const bookNo2 = /*[[${book.bookNo}]]*/ "책 번호";
    </script>

    class="memberNoChattingBtn"

    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <script src="/js/lib/bookDetail.js"></script>
</body>

</html>