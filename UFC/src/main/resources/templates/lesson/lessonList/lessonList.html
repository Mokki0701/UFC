<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로그램 안내/신청</title>
    <style>
    </style>

    <!-- <link rel="stylesheet" href="/css/lesson/lessonList/lessonList.css"> -->
    <!-- 임시로 여기다 작성 -->
    <style>
* {
  list-style: none;
}

body {
  font-family: 'Arial', sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f7f7f7;
}

.header-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background-color: #ffffff;
  border-bottom: 1px solid #ddd;
}

.logo {
  height: 50px;
}

nav ul {
  display: flex;
  list-style: none;
  padding: 0;
  margin: 0;
}

nav ul li {
  margin-right: 20px;
}

nav ul li a {
  text-decoration: none;
  color: #333;
}

.user-options a {
  margin-left: 15px;
  text-decoration: none;
  color: #333;
}

.program-header {
  background-color: #af5dde;
  padding: 20px;
  color: white;
  text-align: center;
}

.program-header .buttons {
  margin-top: 10px;
}

.program-header button {
  margin: 5px;
  padding: 10px 20px;
  border: none;
  background-color: #ffffff;
  color: #af5dde;
  cursor: pointer;
  transition: background-color 0.3s, color 0.3s;
}

.program-header button:hover {
  background-color: #ffcc00;
  color: #333;
}

.program-search {
  background-color: #ffffff;
  padding: 20px;
  border-bottom: 1px solid #ddd;
}

.breadcrumb {
  margin-bottom: 10px;
}

.breadcrumb a {
  text-decoration: none;
  color: #333;
}

.search-bar {
  display: flex;
}

.search-bar input {
  flex-grow: 1;
  padding: 10px;
  border: 1px solid #ddd;
}

.search-bar button {
  padding: 10px 20px;
  border: none;
  background-color: #5cb85c;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s;
}

.search-bar button:hover {
  background-color: #ffcc00;
  color: #333;
}

.program-list {
  padding: 20px;
}

.filter-options {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 20px;
}

.filter-options button {
  margin-left: 10px;
  padding: 10px 20px;
  border: 1px solid #ddd;
  background-color: #f7f7f7;
  cursor: pointer;
  transition: background-color 0.3s;
}

.filter-options button:hover {
  background-color: #ffcc00;
  color: #333;
}

.programs {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
}

.program-card {
  background-color: white;
  border: 1px solid #ddd;
  padding: 20px;
  display: flex;
  align-items: center;
}

.program-card img {
  width: 100px;
  height: 100px;
  margin-right: 20px;
  object-fit: cover;
}

.program-info {
  flex-grow: 1;
}

.program-info .label {
  display: inline-block;
  padding: 5px 10px;
  background-color: #ff5a5a;
  color: white;
  margin-right: 5px;
  font-size: 12px;
}

.program-info .category {
  display: inline-block;
  padding: 5px 10px;
  background-color: #5cb85c;
  color: white;
  font-size: 12px;
}

.pagination {
  display: flex;
  justify-content: center;
  padding: 20px;
}

.pagination a {
  margin: 0 5px;
  padding: 10px 15px;
  border: 1px solid #ddd;
  text-decoration: none;
  color: #333;
  transition: background-color 0.3s;
}

.pagination a.active {
  background-color: #5cb85c;
  color: white;
}

.pagination a:hover {
  background-color: #ffcc00;
  color: #333;
}

.footer-container {
  background-color: #ffffff;
  padding: 20px;
  text-align: center;
  border-top: 1px solid #ddd;
}

.footer-container p,
.footer-container address {
  margin: 10px 0;
}

.footer-container address {
  font-style: normal;
}

/* 기존 스타일은 그대로 두고 검색창에 대한 스타일 추가 */
.program-search {
    background-color: #f7f7f7;
    padding: 20px;
    border-bottom: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.search-bar {
    display: flex;
    background-color: #f7f7f7;
    border-radius: 5px; /* 모서리 둥글게 */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 그림자 추가 */
    width: 100%;
    max-width: 800px;
}

.search-bar input {
    flex-grow: 1;
    padding: 10px;
    border: none; /* 테두리 제거 */
    border-radius: 5px 0 0 5px; /* 좌측 모서리 둥글게 */
    outline: none; /* 포커스시 아웃라인 제거 */
}

.search-bar button {
    padding: 10px 20px;
    border: none;
    background-color: #5cb85c;
    color: white;
    cursor: pointer;
    border-radius: 0 5px 5px 0; /* 우측 모서리 둥글게 */
    transition: background-color 0.3s;
}

.search-bar button:hover {
    background-color: #ffcc00;
    color: #333;
}

.search-bar .advanced-search {
    margin-left: 10px;
    padding: 10px 20px;
    border: none;
    background-color: #5cb85c;
    color: white;
    cursor: pointer;
    border-radius: 5px; /* 모서리 둥글게 */
    transition: background-color 0.3s, color 0.3s;
}

.search-bar .advanced-search:hover {
    background-color: #ffcc00;
    color: #333;
}

.advanced-search-options {
    display: none; /* 초기에는 숨김 */
    background-color: #f7f7f7;
    padding: 20px;
    margin-top: 10px;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 800px;
    text-align: center;
}

.advanced-search-options div {
    margin-bottom: 15px;
}

.advanced-search-options button {
    padding: 10px 20px;
    margin: 5px;
    border: none;
    background-color: #ffffff;
    color: #333;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s, color 0.3s;
}

.advanced-search-options button:hover {
    background-color: #ffcc00;
    color: #333;
}

.search-button button {
    background-color: #af5dde;
    color: white;
    font-size: 16px;
    padding: 10px 30px;
    border-radius: 5px;
    transition: background-color 0.3s, color 0.3s;
}

.search-button button:hover {
    background-color: #ffcc00;
    color: #333;
}

    </style>
</head>

<body>
    <header>
        <div class="header-container">
            <img src="logo.png" alt="Logo" class="logo">
            <nav>
                <ul>
                    <li><a href="#">행복센터 소개</a></li>
                    <li><a href="#">평생교육 프로그램</a></li>
                    <li><a href="#">정보마당</a></li>
                    <li><a href="#">시설이용</a></li>
                    <li><a href="#">키즈카페</a></li>
                </ul>
            </nav>
            <div class="user-options">
                <a href="#">로그인</a>
                <a href="#">검색</a>
            </div>
        </div>
    </header>
    <main>

        <!-- lessonCommon 들어가는 곳 시작 -->
        <th:block th:replace="~{lesson/lessonCommon/lessonCommon}"></th:block>
        <!-- lessonCommon 들어가는 곳 끝 -->

        <!-- 세미 헤더 들어가는 곳 시작 -->
        <th:block th:replace="~{lesson/lessonCommon/semiHeader}"></th:block>
        <!-- 세미 헤더 들어가는 곳 끝 -->

<!--         <form th:action="@{{boardCode}(boardCode=${boardCode})}" method="get" id="boardSearch">

            <select name="key" id="searchKey">
                <option value="t">제목</option>
                <option value="c">내용</option>
                <option value="tc">제목+내용</option>
                <option value="w">작성자</option>
            </select>

            <input type="text" name="query" id="searchQuery" placeholder="검색어를 입력해주세요.">

            <button>검색</button>
        </form>
 -->
        <!-- 검색창 시작 -->
        <form action="/lesson/list" method="get" id="lessonSearch">
        <section class="program-search">
            <div class="breadcrumb">
                <a href="#">평생교육 프로그램</a> &gt; <span>프로그램 안내/신청</span>
            </div>
            <div class="search-bar">
                <input type="text" name="query" id="searchQuery" placeholder="검색하실 수업명을 입력해주세요.">
                <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
                <button type="button" class="advanced-search" id="advanced-search-toggle">상세검색 &#9660;</button>
            </div>
            <div class="advanced-search-options" id="advanced-search-options">
                <div>
                    <span>요일별</span>
                    <button>월요일</button>
                    <button>화요일</button>
                    <button>수요일</button>
                    <button>목요일</button>
                    <button>금요일</button>
                    <button>토요일</button>
                </div>
                <div>
                    <span>시간별</span>
                    <button>오전</button>
                    <button>오후</button>
                </div>
                <div class="search-button">
                </div>
            </div>
        </section>
    </form>
        
        <!-- 검색창 끝 -->
        





        <section class="program-list">
            <div class="filter-options">
                <button>등록일순</button>
                <button>마감임박</button>
            </div>



            <div class="programs">

                <!-- 반복되는 프로그램 카드 -->
                <div class="program-card" th:each="lesson : ${lessonList}">
                    <img th:src="@{/images/lesson.jpg}" alt="프로그램 이미지">
                    <div class="program-info">
                        <span class="label" th:text="${lesson.closeYn == 1 ? '접수마감' : '접수중'}"></span>
                        <span class="category" th:text="${lesson.lessonTargetAudience}"></span>
                        <h3 th:text="${lesson.lessonTitle}"></h3>
                        <p th:text="'대상: ' + ${lesson.lessonTargetAudience}"></p>
                        <p th:text="'참가비: ' + ${lesson.lessonTuitionFee} + '원'"></p>
                        <p th:text="'일정: ' + ${lesson.lessonStartDate} + ' ~ ' + ${lesson.lessonEndDate}"></p>
                        <p th:text="'정원: ' + ${lesson.lessonCapacity} + '명'"></p>
                    </div>
                </div>
                <!-- 반복되는 프로그램 카드 끝 -->

            </div>


            <!-- 페이지네이션 영역 시작 -->
            <div class="pagination-area">

                <!-- 일반 목록 조회 ( 검색 X ) -->
                <ul class="pagination" th:unless="${param.query}" th:object="${pagination}">

                    <!-- 첫 페이지로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=1)}"><i class="fa-solid fa-backward-step"></i></a></li>

                    <!-- 이전 목록 마지막 번호로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=*{prevPage})}"><i
                                class="fa-solid fa-play fa-flip-horizontal"></i></a></li>

                    <!-- 특정 페이지로 이동 -->
                    <th:block th:each="i : *{#numbers.sequence(startPage, endPage)}">

                        <!-- 현재 보고있는 페이지 -->
                        <li th:if="${i} == *{currentPage}">
                            <a class="active" th:text="${i}">현재 페이지</a>
                        </li>

                        <!-- 보고있지 않은 페이지 -->
                        <li th:unless="${i} == *{currentPage}">
                            <a th:href="@{/lesson/list (cp=${i})}" th:text="${i}">이동할 페이지</a>
                        </li>

                    </th:block>

                    <!-- 다음 목록 시작 번호로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=*{nextPage})}"><i class="fa-solid fa-play"></i></a></li>

                    <!-- 끝 페이지로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=*{maxPage})}"><i class="fa-solid fa-forward-step"></i></a></li>
                </ul>

                <!-- ------------- 검색인 경우 ------------- -->
                <ul class="pagination" th:if="${param.query}" th:object="${pagination}">

                    <!-- 첫 페이지로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=1, key=${param.key}, query=${param.query})}">&lt;&lt;</a></li>

                    <!-- 이전 목록 마지막 번호로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=*{prevPage}, key=${param.key}, query=${param.query})}">&lt;</a>
                    </li>

                    <!-- 특정 페이지로 이동 -->
                    <th:block th:if="*{startPage lt endPage}" th:each="i : *{#numbers.sequence(startPage, endPage)}">

                        <!-- 현재 보고있는 페이지 -->
                        <li th:if="${i} == *{currentPage}">
                            <a class="active" th:text="${i}">현재 페이지</a>
                        </li>

                        <!-- 보고있지 않은 페이지 -->
                        <li th:unless="${i} == *{currentPage}">
                            <a th:href="@{/lesson/list (cp=${i}, key=${param.key}, query=${param.query})}"
                                th:text="${i}">이동할 페이지</a>
                        </li>
                    </th:block>

                    <!-- 일치하는 게시글이 없을 경우 -->
                    <th:block th:unless="*{startPage lt endPage}">
                        <li>
                            <a class="active">1</a>
                        </li>
                    </th:block>

                    <!-- 다음 목록 시작 번호로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=*{nextPage}, key=${param.key}, query=${param.query})}">&gt;</a>
                    </li>

                    <!-- 끝 페이지로 이동 -->
                    <li><a th:href="@{/lesson/list (cp=*{maxPage}, key=${param.key}, query=${param.query})}"><i
                                class="fa-solid fa-angles-right"></i></a></li>
                </ul>

            </div>

            <!-- 페이지네이션 영역 끝 -->






        </section>
    </main>
    <footer>
        <div class="footer-container">
            <p>찾아오시는 길 | 사이트맵</p>
            <address>
                [23037] 인천광역시 강화군 남문로 19<br>
                행복센터 032)934-3901~2 / 키즈카페 032)934-3903 / Fax. 032)724-4009 / 이메일 ghhappy@ghhappy.or.kr<br>
                Copyright © 2022 Ganghwa-gun District Incheon Metropolitan City. All rights reserved.
            </address>
            <p>032-934-3901~2</p>
            <p>AM 9:00 ~ PM 06:00 (점심시간 12:00~13:00) 일/공휴일 휴무</p>
        </div>
    </footer>

    <!-- JS 연결 -->
    <script src="/js/lesson/lessonList/lessonList.js"></script>
    <!-- JS 연결 끝 -->


</body>

</html>